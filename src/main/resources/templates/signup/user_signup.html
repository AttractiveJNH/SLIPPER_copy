<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}" lang="en">

<head>
    <link rel="stylesheet" href="../../static/css/login,main,signup.css" th:href="@{/css/login,main,signup.css}">

</head>

<!--사용자 css추가-->

<th:block layout:fragment="css">
    <style>
        .fieldError{
            color: #bd2130;
         }
    </style>
</th:block>

<!--사용자 스크립트 추가-->

<th:block layout:fragment="script">
    <script th:inline="javascript">
        // 지역 선택값 가져오기

        $("#userLocation").change(function () {

                });






        //에러메세지
        $(document).ready(function ()
            var errorMessage = [[${errorMessage}]];
            if(errorMessage != null){
                alert(errorMessage);
            });

    </script>
</th:block>


<div layout:fragment="content">

    <div id="contains">
        <div>
            <div>
                <h2>일반회원 가입</h2>
                <p>일반회원으로 가입합니다.</p>

                <div>
                    <form th:action="@{/user_join}" method="POST" th:object="${userDto}">
                        <!-- 토큰을 추가하여 CSRF 공격 방지 -->
<!--                        <input type="hidden" th:name="${_csrf?.parameterName}" th:value="${_csrf?.token}"/>-->
                        <div class="form-group">
                            <label th:for="userId">아이디</label>
                            <input type="text" th:field="*{id}" class="form-control" placeholder="이름을 입력해 주세요.">
                            <p th:if="${#fields.hasErrors('id')}"
                               th:errors="*{id}" class="fieldError">Incorrect data</p>
                        </div>
                        <div class="form-group">
                            <label th:for="password">비밀번호</label>
                            <input type="password" th:field="*{password}" class="form-control"
                                   placeholder="비밀번호를 입력해 주세요.">
                            <p th:if="${#fields.hasErrors('password')}"
                               th:errors="*{password}" class="fieldError">Incorrect data</p>
                        </div>
                        <div class="passwordCheck">
                            비밀번호 확인
                            <input type="password" th:field="*{passwordCheck}" class="form-control"
                                   placeholder="비밀번호를 한번 더 입력해 주세요.">
                            <p th:if="${#fields.hasErrors('passwordCheck')}"
                               th:errors="*{passwordCheck}" class="fieldError">Incorrect data</p>
                        </div>
                        <div class="form-group">
                            <label th:for="userBirthDate">생일</label>
                            <input type="date" th:field="*{userBirthDate}" class="form-control"
                                   placeholder="비밀번호를 입력해 주세요.">
                            <p th:if="${#fields.hasErrors('userBirthDate')}"
                               th:errors="*{userBirthDate}" class="fieldError">Incorrect data</p>
                        </div>
                        <div class="form-group">
                            <label th:for="userName">이름</label>
                            <input type="text" th:field="*{userName}" class="form-control" placeholder="이름을 입력해 주세요.">
                            <p th:if="${#fields.hasErrors('userName')}"
                               th:errors="*{userName}" class="fieldError">Incorrect data</p>
                        </div>
                        <div>
                            지역
                            <select id="userLocation" name="userLocation">
                                <option value="" selected>선택</option>
                                <option value="중구">중구</option>
                                <option value="서구">서구</option>
                                <option value="동구">동구</option>
                                <option value="영도구">영도구</option>
                                <option value="부산진구">부산진구</option>
                                <option value="동래구">동래구</option>
                                <option value="남구">남구</option>
                                <option value="북구">북구</option>
                                <option value="해운대구">해운대구</option>
                                <option value="사하구">사하구</option>
                                <option value="금정구">금정구</option>
                                <option value="강서구">강서구</option>
                                <option value="연제구">연제구</option>
                                <option value="수영구">수영구</option>
                                <option value="사상구">사상구</option>
                                <option value="기장군">기장군</option>
                            </select>
                            <input type="hidden" th:field="*{userLocation}">
                        </div>
                        <div class="form-group">
                            <label th:for="userPhone">연락처</label>
                            <input type="text" th:field="*{userPhone}" class="form-control" placeholder="이름을 입력해 주세요.">
                            <p th:if="${#fields.hasErrors('userPhone')}"
                               th:errors="*{userPhone}" class="fieldError">Incorrect data</p>
                        </div>
                        <div class="form-group">
                            <label th:for="userNickName">닉네임</label>
                            <input type="text" th:field="*{userNickName}" class="form-control"
                                   placeholder="이름을 입력해 주세요.">
                            <p th:if="${#fields.hasErrors('userNickName')}"
                               th:errors="*{userNickName}" class="fieldError">Incorrect data</p>
                        </div>

                        <button type="submit" class="btn btn-primary">회원가입</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

</html>